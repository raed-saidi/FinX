import{a as R}from"./@monaco-editor-CuNQBT0l.js";import{j as mt,r as vt}from"./@radix-D8tIKeo-.js";var Q=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},H=typeof window>"u"||"Deno"in globalThis;function E(){}function St(e,n){return typeof e=="function"?e(n):e}function ce(e){return typeof e=="number"&&e>=0&&e!==1/0}function Be(e,n){return Math.max(e+(n||0)-Date.now(),0)}function q(e,n){return typeof e=="function"?e(n):e}function I(e,n){return typeof e=="function"?e(n):e}function $e(e,n){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:l}=e;if(o){if(s){if(n.queryHash!==Re(o,n.options))return!1}else if(!B(n.queryKey,o))return!1}if(t!=="all"){const u=n.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof l=="boolean"&&n.isStale()!==l||i&&i!==n.state.fetchStatus||r&&!r(n))}function be(e,n){const{exact:t,status:s,predicate:i,mutationKey:r}=e;if(r){if(!n.options.mutationKey)return!1;if(t){if(T(n.options.mutationKey)!==T(r))return!1}else if(!B(n.options.mutationKey,r))return!1}return!(s&&n.state.status!==s||i&&!i(n))}function Re(e,n){return(n?.queryKeyHashFn||T)(e)}function T(e){return JSON.stringify(e,(n,t)=>de(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function B(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(t=>B(e[t],n[t])):!1}function Fe(e,n){if(e===n)return e;const t=De(e)&&De(n);if(t||de(e)&&de(n)){const s=t?e:Object.keys(e),i=s.length,r=t?n:Object.keys(n),o=r.length,l=t?[]:{};let u=0;for(let c=0;c<o;c++){const a=t?c:r[c];(!t&&s.includes(a)||t)&&e[a]===void 0&&n[a]===void 0?(l[a]=void 0,u++):(l[a]=Fe(e[a],n[a]),l[a]===e[a]&&e[a]!==void 0&&u++)}return i===o&&u===i?e:l}return n}function J(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}function De(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function de(e){if(!Ve(e))return!1;const n=e.constructor;if(n===void 0)return!0;const t=n.prototype;return!(!Ve(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ve(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ct(e){return new Promise(n=>{setTimeout(n,e)})}function he(e,n,t){return typeof t.structuralSharing=="function"?t.structuralSharing(e,n):t.structuralSharing!==!1?Fe(e,n):n}function yt(e,n,t=0){const s=[...e,n];return t&&s.length>t?s.slice(1):s}function wt(e,n,t=0){const s=[n,...e];return t&&s.length>t?s.slice(0,-1):s}var Me=Symbol();function Ne(e,n){return!e.queryFn&&n?.initialPromise?()=>n.initialPromise:!e.queryFn||e.queryFn===Me?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Rt=class extends Q{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!H&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},_e=new Rt,Ft=class extends Q{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!H&&window.addEventListener){const n=()=>e(!0),t=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#t}},Y=new Ft;function ge(){let e,n;const t=new Promise((i,r)=>{e=i,n=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},t.reject=i=>{s({status:"rejected",reason:i}),n(i)},t}function Mt(e){return Math.min(1e3*2**e,3e4)}function Ke(e){return(e??"online")==="online"?Y.isOnline():!0}var We=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ne(e){return e instanceof We}function Xe(e){let n=!1,t=0,s=!1,i;const r=ge(),o=g=>{s||(h(new We(g)),e.abort?.())},l=()=>{n=!0},u=()=>{n=!1},c=()=>_e.isFocused()&&(e.networkMode==="always"||Y.isOnline())&&e.canRun(),a=()=>Ke(e.networkMode)&&e.canRun(),p=g=>{s||(s=!0,e.onSuccess?.(g),i?.(),r.resolve(g))},h=g=>{s||(s=!0,e.onError?.(g),i?.(),r.reject(g))},d=()=>new Promise(g=>{i=C=>{(s||c())&&g(C)},e.onPause?.()}).then(()=>{i=void 0,s||e.onContinue?.()}),f=()=>{if(s)return;let g;const C=t===0?e.initialPromise:void 0;try{g=C??e.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(p).catch(m=>{if(s)return;const y=e.retry??(H?0:3),w=e.retryDelay??Mt,_=typeof w=="function"?w(t,m):w,b=y===!0||typeof y=="number"&&t<y||typeof y=="function"&&y(t,m);if(n||!b){h(m);return}t++,e.onFail?.(t,m),Ct(_).then(()=>c()?void 0:d()).then(()=>{n?h(m):f()})})};return{promise:r,cancel:o,continue:()=>(i?.(),r),cancelRetry:l,continueRetry:u,canStart:a,start:()=>(a()?f():d().then(f),r)}}var _t=e=>setTimeout(e,0);function Pt(){let e=[],n=0,t=l=>{l()},s=l=>{l()},i=_t;const r=l=>{n?e.push(l):i(()=>{t(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{s(()=>{l.forEach(u=>{t(u)})})})};return{batch:l=>{let u;n++;try{u=l()}finally{n--,n||o()}return u},batchCalls:l=>(...u)=>{r(()=>{l(...u)})},schedule:r,setNotifyFunction:l=>{t=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var F=Pt(),Je=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ce(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(H?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},xt=class extends Je{#t;#e;#n;#s;#i;#o;#l;constructor(e){super(),this.#l=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Ot(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const t=he(this.state.data,e,this.options);return this.#r({data:t,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),t}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(E).catch(E):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>I(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Me||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Be(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#l?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const t=new AbortController,s=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#l=!0,t.signal)})},i=()=>{const l=Ne(this.options,n),u={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(u),this.#l=!1,this.options.persister?this.options.persister(l,u,this):l(u)},r={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:i};s(r),this.options.behavior?.onFetch(r,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==r.fetchOptions?.meta)&&this.#r({type:"fetch",meta:r.fetchOptions?.meta});const o=l=>{ne(l)&&l.silent||this.#r({type:"error",error:l}),ne(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=Xe({initialPromise:n?.initialPromise,fn:r.fetchFn,abort:t.abort.bind(t),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){o(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:r.options.retry,retryDelay:r.options.retryDelay,networkMode:r.options.networkMode,canRun:()=>!0}),this.#i.start()}#r(e){const n=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ye(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ne(s)&&s.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=n(this.state),F.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Ye(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ke(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ot(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,t=n!==void 0,s=t?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Et=class extends Q{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,n,t){const s=n.queryKey,i=n.queryHash??Re(s,n);let r=this.get(i);return r||(r=new xt({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:t,defaultOptions:e.getQueryDefaults(s)}),this.add(r)),r}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=this.#t.get(e.queryHash);n&&(e.destroy(),n===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){F.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const n={exact:!0,...e};return this.getAll().find(t=>$e(n,t))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(t=>$e(e,t)):n}notify(e){F.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){F.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){F.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},It=class extends Je{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||Ze(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){this.#n=Xe({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#s({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",t=!this.#n.canStart();try{if(!n){this.#s({type:"pending",variables:e,isPaused:t}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#s({type:"pending",context:i,variables:e,isPaused:t})}const s=await this.#n.start();return await this.#e.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#s({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#s({type:"error",error:s})}}finally{this.#e.runNext(this)}}#s(e){const n=t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),F.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function Ze(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $t=class extends Q{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,n,t){const s=new It({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(n),state:t});return this.add(s),s}add(e){this.#t.add(e);const n=N(e);if(typeof n=="string"){const t=this.#e.get(n);t?t.push(e):this.#e.set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const n=N(e);if(typeof n=="string"){const t=this.#e.get(n);if(t)if(t.length>1){const s=t.indexOf(e);s!==-1&&t.splice(s,1)}else t[0]===e&&this.#e.delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=N(e);if(typeof n=="string"){const s=this.#e.get(n)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const n=N(e);return typeof n=="string"?this.#e.get(n)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){F.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const n={exact:!0,...e};return this.getAll().find(t=>be(n,t))}findAll(e={}){return this.getAll().filter(n=>be(e,n))}notify(e){F.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return F.batch(()=>Promise.all(e.map(n=>n.continue().catch(E))))}};function N(e){return e.options.scope?.id}function Z(e){return{onFetch:(n,t)=>{const s=n.options,i=n.fetchOptions?.meta?.fetchMore?.direction,r=n.state.data?.pages||[],o=n.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const c=async()=>{let a=!1;const p=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(n.signal.aborted?a=!0:n.signal.addEventListener("abort",()=>{a=!0}),n.signal)})},h=Ne(n.options,n.fetchOptions),d=async(f,g,C)=>{if(a)return Promise.reject();if(g==null&&f.pages.length)return Promise.resolve(f);const m={client:n.client,queryKey:n.queryKey,pageParam:g,direction:C?"backward":"forward",meta:n.options.meta};p(m);const y=await h(m),{maxPages:w}=n.options,_=C?wt:yt;return{pages:_(f.pages,y,w),pageParams:_(f.pageParams,g,w)}};if(i&&r.length){const f=i==="backward",g=f?et:fe,C={pages:r,pageParams:o},m=g(s,C);l=await d(C,m,f)}else{const f=e??r.length;do{const g=u===0?o[0]??s.initialPageParam:fe(s,l);if(u>0&&g==null)break;l=await d(l,g),u++}while(u<f)}return l};n.options.persister?n.fetchFn=()=>n.options.persister?.(c,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},t):n.fetchFn=c}}}function fe(e,{pages:n,pageParams:t}){const s=n.length-1;return n.length>0?e.getNextPageParam(n[s],n,t[s],t):void 0}function et(e,{pages:n,pageParams:t}){return n.length>0?e.getPreviousPageParam?.(n[0],n,t[0],t):void 0}function bt(e,n){return n?fe(e,n)!=null:!1}function Dt(e,n){return!n||!e.getPreviousPageParam?!1:et(e,n)!=null}var Yn=class{#t;#e;#n;#s;#i;#o;#l;#r;constructor(e={}){this.#t=e.queryCache||new Et,this.#e=e.mutationCache||new $t,this.#n=e.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#l=_e.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#r=Y.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#l?.(),this.#l=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),t=this.#t.build(this,n),s=t.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&t.isStaleByTime(q(n.staleTime,t))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:n,state:t})=>{const s=t.data;return[n,s]})}setQueryData(e,n,t){const s=this.defaultQueryOptions({queryKey:e}),r=this.#t.get(s.queryHash)?.state.data,o=St(n,r);if(o!==void 0)return this.#t.build(this,s).setData(o,{...t,manual:!0})}setQueriesData(e,n,t){return F.batch(()=>this.#t.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,t)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#t.get(n.queryHash)?.state}removeQueries(e){const n=this.#t;F.batch(()=>{n.findAll(e).forEach(t=>{n.remove(t)})})}resetQueries(e,n){const t=this.#t;return F.batch(()=>(t.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const t={revert:!0,...n},s=F.batch(()=>this.#t.findAll(e).map(i=>i.cancel(t)));return Promise.all(s).then(E).catch(E)}invalidateQueries(e,n={}){return F.batch(()=>(this.#t.findAll(e).forEach(t=>{t.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const t={...n,cancelRefetch:n.cancelRefetch??!0},s=F.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()).map(i=>{let r=i.fetch(void 0,t);return t.throwOnError||(r=r.catch(E)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(E)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const t=this.#t.build(this,n);return t.isStaleByTime(q(n.staleTime,t))?t.fetch(n):Promise.resolve(t.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(E).catch(E)}fetchInfiniteQuery(e){return e.behavior=Z(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(E).catch(E)}ensureInfiniteQueryData(e){return e.behavior=Z(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Y.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#s.set(T(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#s.values()],t={};return n.forEach(s=>{B(e,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(e,n){this.#i.set(T(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#i.values()],t={};return n.forEach(s=>{B(e,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=Re(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Me&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},tt=class extends Q{constructor(e,n){super(),this.options=n,this.#t=e,this.#r=null,this.#l=ge(),this.options.experimental_prefetchInRender||this.#l.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}#t;#e=void 0;#n=void 0;#s=void 0;#i;#o;#l;#r;#p;#h;#g;#a;#c;#u;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ae(this.#e,this.options)?this.#d():this.updateResult(),this.#C())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pe(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pe(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const n=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof I(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#e.setOptions(this.options),n._defaulted&&!J(this.options,n)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&ze(this.#e,t,this.options,n)&&this.#d(),this.updateResult(),s&&(this.#e!==t||I(this.options.enabled,this.#e)!==I(n.enabled,this.#e)||q(this.options.staleTime,this.#e)!==q(n.staleTime,this.#e))&&this.#m();const i=this.#v();s&&(this.#e!==t||I(this.options.enabled,this.#e)!==I(n.enabled,this.#e)||i!==this.#u)&&this.#S(i)}getOptimisticResult(e){const n=this.#t.getQueryCache().build(this.#t,e),t=this.createResult(n,e);return At(this,t)&&(this.#s=t,this.#o=this.options,this.#i=this.#e.state),t}getCurrentResult(){return this.#s}trackResult(e,n){const t={};return Object.keys(e).forEach(s=>{Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n?.(s),e[s])})}),t}trackProp(e){this.#f.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=this.#t.defaultQueryOptions(e),t=this.#t.getQueryCache().build(this.#t,n);return t.fetch().then(()=>this.createResult(t,n))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#R();let n=this.#e.fetch(this.options,e);return e?.throwOnError||(n=n.catch(E)),n}#m(){this.#y();const e=q(this.options.staleTime,this.#e);if(H||this.#s.isStale||!ce(e))return;const t=Be(this.#s.dataUpdatedAt,e)+1;this.#a=setTimeout(()=>{this.#s.isStale||this.updateResult()},t)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#S(e){this.#w(),this.#u=e,!(H||I(this.options.enabled,this.#e)===!1||!ce(this.#u)||this.#u===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||_e.isFocused())&&this.#d()},this.#u))}#C(){this.#m(),this.#S(this.#v())}#y(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}#w(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(e,n){const t=this.#e,s=this.options,i=this.#s,r=this.#i,o=this.#o,u=e!==t?e.state:this.#n,{state:c}=e;let a={...c},p=!1,h;if(n._optimisticResults){const M=this.hasListeners(),D=!M&&Ae(e,n),A=M&&ze(e,t,n,s);(D||A)&&(a={...a,...Ye(c.data,e.options)}),n._optimisticResults==="isRestoring"&&(a.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:g}=a;if(n.select&&a.data!==void 0)if(i&&a.data===r?.data&&n.select===this.#p)h=this.#h;else try{this.#p=n.select,h=n.select(a.data),h=he(i?.data,h,n),this.#h=h,this.#r=null}catch(M){this.#r=M}else h=a.data;if(n.placeholderData!==void 0&&h===void 0&&g==="pending"){let M;if(i?.isPlaceholderData&&n.placeholderData===o?.placeholderData)M=i.data;else if(M=typeof n.placeholderData=="function"?n.placeholderData(this.#g?.state.data,this.#g):n.placeholderData,n.select&&M!==void 0)try{M=n.select(M),this.#r=null}catch(D){this.#r=D}M!==void 0&&(g="success",h=he(i?.data,M,n),p=!0)}this.#r&&(d=this.#r,h=this.#h,f=Date.now(),g="error");const C=a.fetchStatus==="fetching",m=g==="pending",y=g==="error",w=m&&C,_=h!==void 0,x={status:g,fetchStatus:a.fetchStatus,isPending:m,isSuccess:g==="success",isError:y,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:a.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:a.fetchFailureCount,failureReason:a.fetchFailureReason,errorUpdateCount:a.errorUpdateCount,isFetched:a.dataUpdateCount>0||a.errorUpdateCount>0,isFetchedAfterMount:a.dataUpdateCount>u.dataUpdateCount||a.errorUpdateCount>u.errorUpdateCount,isFetching:C,isRefetching:C&&!m,isLoadingError:y&&!_,isPaused:a.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:y&&_,isStale:Pe(e,n),refetch:this.refetch,promise:this.#l};if(this.options.experimental_prefetchInRender){const M=G=>{x.status==="error"?G.reject(x.error):x.data!==void 0&&G.resolve(x.data)},D=()=>{const G=this.#l=x.promise=ge();M(G)},A=this.#l;switch(A.status){case"pending":e.queryHash===t.queryHash&&M(A);break;case"fulfilled":(x.status==="error"||x.data!==A.value)&&D();break;case"rejected":(x.status!=="error"||x.error!==A.reason)&&D();break}}return x}updateResult(){const e=this.#s,n=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#o=this.options,this.#i.data!==void 0&&(this.#g=this.#e),J(n,e))return;this.#s=n;const t=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!this.#f.size)return!0;const r=new Set(i??this.#f);return this.options.throwOnError&&r.add("error"),Object.keys(this.#s).some(o=>{const l=o;return this.#s[l]!==e[l]&&r.has(l)})};this.#F({listeners:t()})}#R(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const n=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#C()}#F(e){F.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(this.#s)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Vt(e,n){return I(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Ae(e,n){return Vt(e,n)||e.state.data!==void 0&&pe(e,n,n.refetchOnMount)}function pe(e,n,t){if(I(n.enabled,e)!==!1){const s=typeof t=="function"?t(e):t;return s==="always"||s!==!1&&Pe(e,n)}return!1}function ze(e,n,t,s){return(e!==n||I(s.enabled,e)===!1)&&(!t.suspense||e.state.status!=="error")&&Pe(e,t)}function Pe(e,n){return I(n.enabled,e)!==!1&&e.isStaleByTime(q(n.staleTime,e))}function At(e,n){return!J(e.getCurrentResult(),n)}var zt=class extends tt{constructor(e,n){super(e,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Z()})}getOptimisticResult(e){return e.behavior=Z(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,n){const{state:t}=e,s=super.createResult(e,n),{isFetching:i,isRefetching:r,isError:o,isRefetchError:l}=s,u=t.fetchMeta?.fetchMore?.direction,c=o&&u==="forward",a=i&&u==="forward",p=o&&u==="backward",h=i&&u==="backward";return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:bt(n,t.data),hasPreviousPage:Dt(n,t.data),isFetchNextPageError:c,isFetchingNextPage:a,isFetchPreviousPageError:p,isFetchingPreviousPage:h,isRefetchError:l&&!c&&!p,isRefetching:r&&!a&&!h}}},Lt=class extends Q{#t;#e=void 0;#n;#s;constructor(e,n){super(),this.#t=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#t.defaultMutationOptions(e),J(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&T(n.mutationKey)!==T(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,n){return this.#s=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??Ze();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){F.batch(()=>{if(this.#s&&this.hasListeners()){const n=this.#e.variables,t=this.#e.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,n,t),this.#s.onSettled?.(e.data,null,n,t)):e?.type==="error"&&(this.#s.onError?.(e.error,n,t),this.#s.onSettled?.(void 0,e.error,n,t))}this.listeners.forEach(n=>{n(this.#e)})})}},nt=R.createContext(void 0),ee=e=>{const n=R.useContext(nt);if(e)return e;if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Zn=({client:e,children:n})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),mt.jsx(nt.Provider,{value:e,children:n})),st=R.createContext(!1),Ht=()=>R.useContext(st);st.Provider;function Tt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gt=R.createContext(Tt()),kt=()=>R.useContext(Gt);function it(e,n){return typeof e=="function"?e(...n):!!e}function me(){}var qt=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},Qt=e=>{R.useEffect(()=>{e.clearReset()},[e])},jt=({result:e,errorResetBoundary:n,throwOnError:t,query:s,suspense:i})=>e.isError&&!n.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||it(t,[e.error,s])),Ut=e=>{const n=e.staleTime;e.suspense&&(e.staleTime=typeof n=="function"?(...t)=>Math.max(n(...t),1e3):Math.max(n??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Bt=(e,n)=>e.isLoading&&e.isFetching&&!n,Nt=(e,n)=>e?.suspense&&n.isPending,Le=(e,n,t)=>n.fetchOptimistic(e).catch(()=>{t.clearReset()});function rt(e,n,t){const s=ee(t),i=Ht(),r=kt(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",Ut(o),qt(o,r),Qt(r);const l=!s.getQueryCache().get(o.queryHash),[u]=R.useState(()=>new n(s,o)),c=u.getOptimisticResult(o),a=!i&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(p=>{const h=a?u.subscribe(F.batchCalls(p)):me;return u.updateResult(),h},[u,a]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),R.useEffect(()=>{u.setOptions(o)},[o,u]),Nt(o,c))throw Le(o,u,r);if(jt({result:c,errorResetBoundary:r,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!H&&Bt(c,i)&&(l?Le(o,u,r):s.getQueryCache().get(o.queryHash)?.promise)?.catch(me).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function es(e,n){return rt(e,tt,n)}function ts(e){return e}function ns(e){return e}function ss(e,n){const t=ee(n);return Kt({filters:{...e,status:"pending"}},t).length}function He(e,n){return e.findAll(n.filters).map(t=>n.select?n.select(t):t.state)}function Kt(e={},n){const t=ee(n).getMutationCache(),s=R.useRef(e),i=R.useRef(null);return i.current||(i.current=He(t,e)),R.useEffect(()=>{s.current=e}),R.useSyncExternalStore(R.useCallback(r=>t.subscribe(()=>{const o=Fe(i.current,He(t,s.current));i.current!==o&&(i.current=o,F.schedule(r))}),[t]),()=>i.current,()=>i.current)}function is(e,n){const t=ee(n),[s]=R.useState(()=>new Lt(t,e));R.useEffect(()=>{s.setOptions(e)},[s,e]);const i=R.useSyncExternalStore(R.useCallback(o=>s.subscribe(F.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),r=R.useCallback((o,l)=>{s.mutate(o,l).catch(me)},[s]);if(i.error&&it(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}function rs(e,n){return rt(e,zt,n)}function z(e,n){return typeof e=="function"?e(n):e}function O(e,n){return t=>{n.setState(s=>({...s,[e]:z(t,s[e])}))}}function te(e){return e instanceof Function}function Wt(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Xt(e,n){const t=[],s=i=>{i.forEach(r=>{t.push(r);const o=n(r);o!=null&&o.length&&s(o)})};return s(e),t}function v(e,n,t){let s=[],i;return r=>{let o;t.key&&t.debug&&(o=Date.now());const l=e(r);if(!(l.length!==s.length||l.some((a,p)=>s[p]!==a)))return i;s=l;let c;if(t.key&&t.debug&&(c=Date.now()),i=n(...l),t==null||t.onChange==null||t.onChange(i),t.key&&t.debug&&t!=null&&t.debug()){const a=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-c)*100)/100,h=p/16,d=(f,g)=>{for(f=String(f);f.length<g;)f=" "+f;return f};console.info(`%câ± ${d(p,5)} /${d(a,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,t?.key)}return i}}function S(e,n,t,s){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[n]},key:!1,onChange:s}}function Jt(e,n,t,s){const i=()=>{var o;return(o=r.getValue())!=null?o:e.options.renderFallbackValue},r={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(s),renderValue:i,getContext:v(()=>[e,t,n,r],(o,l,u,c)=>({table:o,column:l,row:u,cell:c,getValue:c.getValue,renderValue:c.renderValue}),S(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(r,t,n,e)},{}),r}function Yt(e,n,t,s){var i,r;const l={...e._getDefaultColumnDef(),...n},u=l.accessorKey;let c=(i=(r=l.id)!=null?r:u?typeof String.prototype.replaceAll=="function"?u.replaceAll(".","_"):u.replace(/\./g,"_"):void 0)!=null?i:typeof l.header=="string"?l.header:void 0,a;if(l.accessorFn?a=l.accessorFn:u&&(u.includes(".")?a=h=>{let d=h;for(const g of u.split(".")){var f;d=(f=d)==null?void 0:f[g]}return d}:a=h=>h[l.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:a,parent:s,depth:t,columnDef:l,columns:[],getFlatColumns:v(()=>[!0],()=>{var h;return[p,...(h=p.columns)==null?void 0:h.flatMap(d=>d.getFlatColumns())]},S(e.options,"debugColumns")),getLeafColumns:v(()=>[e._getOrderColumnsFn()],h=>{var d;if((d=p.columns)!=null&&d.length){let f=p.columns.flatMap(g=>g.getLeafColumns());return h(f)}return[p]},S(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(p,e);return p}const P="debugHeaders";function Te(e,n,t){var s;let r={id:(s=t.id)!=null?s:n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=u=>{u.subHeaders&&u.subHeaders.length&&u.subHeaders.map(l),o.push(u)};return l(r),o},getContext:()=>({table:e,header:r,column:n})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(r,e)}),r}const Zt={createTable:e=>{e.getHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>{var r,o;const l=(r=s?.map(p=>t.find(h=>h.id===p)).filter(Boolean))!=null?r:[],u=(o=i?.map(p=>t.find(h=>h.id===p)).filter(Boolean))!=null?o:[],c=t.filter(p=>!(s!=null&&s.includes(p.id))&&!(i!=null&&i.includes(p.id)));return K(n,[...l,...c,...u],e)},S(e.options,P)),e.getCenterHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s,i)=>(t=t.filter(r=>!(s!=null&&s.includes(r.id))&&!(i!=null&&i.includes(r.id))),K(n,t,e,"center")),S(e.options,P)),e.getLeftHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,s)=>{var i;const r=(i=s?.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return K(n,r,e,"left")},S(e.options,P)),e.getRightHeaderGroups=v(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,s)=>{var i;const r=(i=s?.map(o=>t.find(l=>l.id===o)).filter(Boolean))!=null?i:[];return K(n,r,e,"right")},S(e.options,P)),e.getFooterGroups=v(()=>[e.getHeaderGroups()],n=>[...n].reverse(),S(e.options,P)),e.getLeftFooterGroups=v(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),S(e.options,P)),e.getCenterFooterGroups=v(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),S(e.options,P)),e.getRightFooterGroups=v(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),S(e.options,P)),e.getFlatHeaders=v(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),S(e.options,P)),e.getLeftFlatHeaders=v(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),S(e.options,P)),e.getCenterFlatHeaders=v(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),S(e.options,P)),e.getRightFlatHeaders=v(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),S(e.options,P)),e.getCenterLeafHeaders=v(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),S(e.options,P)),e.getLeftLeafHeaders=v(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),S(e.options,P)),e.getRightLeafHeaders=v(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var s;return!((s=t.subHeaders)!=null&&s.length)}),S(e.options,P)),e.getLeafHeaders=v(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,s)=>{var i,r,o,l,u,c;return[...(i=(r=n[0])==null?void 0:r.headers)!=null?i:[],...(o=(l=t[0])==null?void 0:l.headers)!=null?o:[],...(u=(c=s[0])==null?void 0:c.headers)!=null?u:[]].map(a=>a.getLeafHeaders()).flat()},S(e.options,P))}};function K(e,n,t,s){var i,r;let o=0;const l=function(h,d){d===void 0&&(d=1),o=Math.max(o,d),h.filter(f=>f.getIsVisible()).forEach(f=>{var g;(g=f.columns)!=null&&g.length&&l(f.columns,d+1)},0)};l(e);let u=[];const c=(h,d)=>{const f={depth:d,id:[s,`${d}`].filter(Boolean).join("_"),headers:[]},g=[];h.forEach(C=>{const m=[...g].reverse()[0],y=C.column.depth===f.depth;let w,_=!1;if(y&&C.column.parent?w=C.column.parent:(w=C.column,_=!0),m&&m?.column===w)m.subHeaders.push(C);else{const b=Te(t,w,{id:[s,d,w.id,C?.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${g.filter(x=>x.column===w).length}`:void 0,depth:d,index:g.length});b.subHeaders.push(C),g.push(b)}f.headers.push(C),C.headerGroup=f}),u.push(f),d>0&&c(g,d-1)},a=n.map((h,d)=>Te(t,h,{depth:o,index:d}));c(a,o-1),u.reverse();const p=h=>h.filter(f=>f.column.getIsVisible()).map(f=>{let g=0,C=0,m=[0];f.subHeaders&&f.subHeaders.length?(m=[],p(f.subHeaders).forEach(w=>{let{colSpan:_,rowSpan:b}=w;g+=_,m.push(b)})):g=1;const y=Math.min(...m);return C=C+y,f.colSpan=g,f.rowSpan=C,{colSpan:g,rowSpan:C}});return p((i=(r=u[0])==null?void 0:r.headers)!=null?i:[]),u}const en=(e,n,t,s,i,r,o)=>{let l={id:n,index:s,original:t,depth:i,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:u=>{if(l._valuesCache.hasOwnProperty(u))return l._valuesCache[u];const c=e.getColumn(u);if(c!=null&&c.accessorFn)return l._valuesCache[u]=c.accessorFn(l.original,s),l._valuesCache[u]},getUniqueValues:u=>{if(l._uniqueValuesCache.hasOwnProperty(u))return l._uniqueValuesCache[u];const c=e.getColumn(u);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(l._uniqueValuesCache[u]=c.columnDef.getUniqueValues(l.original,s),l._uniqueValuesCache[u]):(l._uniqueValuesCache[u]=[l.getValue(u)],l._uniqueValuesCache[u])},renderValue:u=>{var c;return(c=l.getValue(u))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Xt(l.subRows,u=>u.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let u=[],c=l;for(;;){const a=c.getParentRow();if(!a)break;u.push(a),c=a}return u.reverse()},getAllCells:v(()=>[e.getAllLeafColumns()],u=>u.map(c=>Jt(e,l,c,c.id)),S(e.options,"debugRows")),_getAllCellsByColumnId:v(()=>[l.getAllCells()],u=>u.reduce((c,a)=>(c[a.column.id]=a,c),{}),S(e.options,"debugRows"))};for(let u=0;u<e._features.length;u++){const c=e._features[u];c==null||c.createRow==null||c.createRow(l,e)}return l},tn={createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},ot=(e,n,t)=>{var s,i;const r=t==null||(s=t.toString())==null?void 0:s.toLowerCase();return!!(!((i=e.getValue(n))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(r))};ot.autoRemove=e=>$(e);const lt=(e,n,t)=>{var s;return!!(!((s=e.getValue(n))==null||(s=s.toString())==null)&&s.includes(t))};lt.autoRemove=e=>$(e);const ut=(e,n,t)=>{var s;return((s=e.getValue(n))==null||(s=s.toString())==null?void 0:s.toLowerCase())===t?.toLowerCase()};ut.autoRemove=e=>$(e);const at=(e,n,t)=>{var s;return(s=e.getValue(n))==null?void 0:s.includes(t)};at.autoRemove=e=>$(e);const ct=(e,n,t)=>!t.some(s=>{var i;return!((i=e.getValue(n))!=null&&i.includes(s))});ct.autoRemove=e=>$(e)||!(e!=null&&e.length);const dt=(e,n,t)=>t.some(s=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(s)});dt.autoRemove=e=>$(e)||!(e!=null&&e.length);const ht=(e,n,t)=>e.getValue(n)===t;ht.autoRemove=e=>$(e);const gt=(e,n,t)=>e.getValue(n)==t;gt.autoRemove=e=>$(e);const xe=(e,n,t)=>{let[s,i]=t;const r=e.getValue(n);return r>=s&&r<=i};xe.resolveFilterValue=e=>{let[n,t]=e,s=typeof n!="number"?parseFloat(n):n,i=typeof t!="number"?parseFloat(t):t,r=n===null||Number.isNaN(s)?-1/0:s,o=t===null||Number.isNaN(i)?1/0:i;if(r>o){const l=r;r=o,o=l}return[r,o]};xe.autoRemove=e=>$(e)||$(e[0])&&$(e[1]);const V={includesString:ot,includesStringSensitive:lt,equalsString:ut,arrIncludes:at,arrIncludesAll:ct,arrIncludesSome:dt,equals:ht,weakEquals:gt,inNumberRange:xe};function $(e){return e==null||e===""}const nn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:O("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t?.getValue(e.id);return typeof s=="string"?V.includesString:typeof s=="number"?V.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?V.equals:Array.isArray(s)?V.arrIncludes:V.weakEquals},e.getFilterFn=()=>{var t,s;return te(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(s=n.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?t:V[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,s,i;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((s=n.options.enableColumnFilters)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=n.getState().columnFilters)==null||(t=t.find(s=>s.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,s;return(t=(s=n.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.setFilterValue=t=>{n.setColumnFilters(s=>{const i=e.getFilterFn(),r=s?.find(a=>a.id===e.id),o=z(t,r?r.value:void 0);if(Ge(i,o,e)){var l;return(l=s?.filter(a=>a.id!==e.id))!=null?l:[]}const u={id:e.id,value:o};if(r){var c;return(c=s?.map(a=>a.id===e.id?u:a))!=null?c:[]}return s!=null&&s.length?[...s,u]:[u]})}},createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=n=>{const t=e.getAllLeafColumns(),s=i=>{var r;return(r=z(n,i))==null?void 0:r.filter(o=>{const l=t.find(u=>u.id===o.id);if(l){const u=l.getFilterFn();if(Ge(u,o.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=n=>{var t,s;e.setColumnFilters(n?[]:(t=(s=e.initialState)==null?void 0:s.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Ge(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const sn=(e,n,t)=>t.reduce((s,i)=>{const r=i.getValue(e);return s+(typeof r=="number"?r:0)},0),rn=(e,n,t)=>{let s;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(s>r||s===void 0&&r>=r)&&(s=r)}),s},on=(e,n,t)=>{let s;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(s<r||s===void 0&&r>=r)&&(s=r)}),s},ln=(e,n,t)=>{let s,i;return t.forEach(r=>{const o=r.getValue(e);o!=null&&(s===void 0?o>=o&&(s=i=o):(s>o&&(s=o),i<o&&(i=o)))}),[s,i]},un=(e,n)=>{let t=0,s=0;if(n.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++t,s+=r)}),t)return s/t},an=(e,n)=>{if(!n.length)return;const t=n.map(r=>r.getValue(e));if(!Wt(t))return;if(t.length===1)return t[0];const s=Math.floor(t.length/2),i=t.sort((r,o)=>r-o);return t.length%2!==0?i[s]:(i[s-1]+i[s])/2},cn=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),dn=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,hn=(e,n)=>n.length,se={sum:sn,min:rn,max:on,extent:ln,mean:un,median:an,unique:cn,uniqueCount:dn,count:hn},gn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return(n=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?n:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:O("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(s=>s!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,s;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((s=n.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],s=t?.getValue(e.id);if(typeof s=="number")return se.sum;if(Object.prototype.toString.call(s)==="[object Date]")return se.extent},e.getAggregationFn=()=>{var t,s;if(!e)throw new Error;return te(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(s=n.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?t:se[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=n=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(n),e.resetGrouping=n=>{var t,s;e.setGrouping(n?[]:(t=(s=e.initialState)==null?void 0:s.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const s=n.getColumn(t);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[t]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,n,t,s)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function fn(e,n,t){if(!(n!=null&&n.length)||!t)return e;const s=e.filter(r=>!n.includes(r.id));return t==="remove"?s:[...n.map(r=>e.find(o=>o.id===r)).filter(Boolean),...s]}const pn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:O("columnOrder",e)}),createColumn:(e,n)=>{e.getIndex=v(t=>[U(n,t)],t=>t.findIndex(s=>s.id===e.id),S(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var s;return((s=U(n,t)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=t=>{var s;const i=U(n,t);return((s=i[i.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=n=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(n),e.resetColumnOrder=n=>{var t;e.setColumnOrder(n?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=v(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,s)=>i=>{let r=[];if(!(n!=null&&n.length))r=i;else{const o=[...n],l=[...i];for(;l.length&&o.length;){const u=o.shift(),c=l.findIndex(a=>a.id===u);c>-1&&r.push(l.splice(c,1)[0])}r=[...r,...l]}return fn(r,t,s)},S(e.options,"debugTable"))}},ie=()=>({left:[],right:[]}),mn={getInitialState:e=>({columnPinning:ie(),...e}),getDefaultOptions:e=>({onColumnPinningChange:O("columnPinning",e)}),createColumn:(e,n)=>{e.pin=t=>{const s=e.getLeafColumns().map(i=>i.id).filter(Boolean);n.setColumnPinning(i=>{var r,o;if(t==="right"){var l,u;return{left:((l=i?.left)!=null?l:[]).filter(p=>!(s!=null&&s.includes(p))),right:[...((u=i?.right)!=null?u:[]).filter(p=>!(s!=null&&s.includes(p))),...s]}}if(t==="left"){var c,a;return{left:[...((c=i?.left)!=null?c:[]).filter(p=>!(s!=null&&s.includes(p))),...s],right:((a=i?.right)!=null?a:[]).filter(p=>!(s!=null&&s.includes(p)))}}return{left:((r=i?.left)!=null?r:[]).filter(p=>!(s!=null&&s.includes(p))),right:((o=i?.right)!=null?o:[]).filter(p=>!(s!=null&&s.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var i,r,o;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((r=(o=n.options.enableColumnPinning)!=null?o:n.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(l=>l.id),{left:s,right:i}=n.getState().columnPinning,r=t.some(l=>s?.includes(l)),o=t.some(l=>i?.includes(l));return r?"left":o?"right":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();return i?(t=(s=n.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(e.id))!=null?t:-1:0}},createRow:(e,n)=>{e.getCenterVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,s,i)=>{const r=[...s??[],...i??[]];return t.filter(o=>!r.includes(o.column.id))},S(n.options,"debugRows")),e.getLeftVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,s)=>(s??[]).map(r=>t.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),S(n.options,"debugRows")),e.getRightVisibleCells=v(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,s)=>(s??[]).map(r=>t.find(o=>o.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),S(n.options,"debugRows"))},createTable:e=>{e.setColumnPinning=n=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(n),e.resetColumnPinning=n=>{var t,s;return e.setColumnPinning(n?ie():(t=(s=e.initialState)==null?void 0:s.columnPinning)!=null?t:ie())},e.getIsSomeColumnsPinned=n=>{var t;const s=e.getState().columnPinning;if(!n){var i,r;return!!((i=s.left)!=null&&i.length||(r=s.right)!=null&&r.length)}return!!((t=s[n])!=null&&t.length)},e.getLeftLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),S(e.options,"debugColumns")),e.getRightLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(s=>n.find(i=>i.id===s)).filter(Boolean),S(e.options,"debugColumns")),e.getCenterLeafColumns=v(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,s)=>{const i=[...t??[],...s??[]];return n.filter(r=>!i.includes(r.id))},S(e.options,"debugColumns"))}},W={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},re=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),vn={getDefaultColumnDef:()=>W,getInitialState:e=>({columnSizing:{},columnSizingInfo:re(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:O("columnSizing",e),onColumnSizingInfoChange:O("columnSizingInfo",e)}),createColumn:(e,n)=>{e.getSize=()=>{var t,s,i;const r=n.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:W.minSize,(s=r??e.columnDef.size)!=null?s:W.size),(i=e.columnDef.maxSize)!=null?i:W.maxSize)},e.getStart=v(t=>[t,U(n,t),n.getState().columnSizing],(t,s)=>s.slice(0,e.getIndex(t)).reduce((i,r)=>i+r.getSize(),0),S(n.options,"debugColumns")),e.getAfter=v(t=>[t,U(n,t),n.getState().columnSizing],(t,s)=>s.slice(e.getIndex(t)+1).reduce((i,r)=>i+r.getSize(),0),S(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(t=>{let{[e.id]:s,...i}=t;return i})},e.getCanResize=()=>{var t,s;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((s=n.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,n)=>{e.getSize=()=>{let t=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var r;t+=(r=i.column.getSize())!=null?r:0}};return s(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const s=n.getColumn(e.column.id),i=s?.getCanResize();return r=>{if(!s||!i||(r.persist==null||r.persist(),oe(r)&&r.touches&&r.touches.length>1))return;const o=e.getSize(),l=e?e.getLeafHeaders().map(m=>[m.column.id,m.column.getSize()]):[[s.id,s.getSize()]],u=oe(r)?Math.round(r.touches[0].clientX):r.clientX,c={},a=(m,y)=>{typeof y=="number"&&(n.setColumnSizingInfo(w=>{var _,b;const x=n.options.columnResizeDirection==="rtl"?-1:1,M=(y-((_=w?.startOffset)!=null?_:0))*x,D=Math.max(M/((b=w?.startSize)!=null?b:0),-.999999);return w.columnSizingStart.forEach(A=>{let[G,Ie]=A;c[G]=Math.round(Math.max(Ie+Ie*D,0)*100)/100}),{...w,deltaOffset:M,deltaPercentage:D}}),(n.options.columnResizeMode==="onChange"||m==="end")&&n.setColumnSizing(w=>({...w,...c})))},p=m=>a("move",m),h=m=>{a("end",m),n.setColumnSizingInfo(y=>({...y,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=t||typeof document<"u"?document:null,f={moveHandler:m=>p(m.clientX),upHandler:m=>{d?.removeEventListener("mousemove",f.moveHandler),d?.removeEventListener("mouseup",f.upHandler),h(m.clientX)}},g={moveHandler:m=>(m.cancelable&&(m.preventDefault(),m.stopPropagation()),p(m.touches[0].clientX),!1),upHandler:m=>{var y;d?.removeEventListener("touchmove",g.moveHandler),d?.removeEventListener("touchend",g.upHandler),m.cancelable&&(m.preventDefault(),m.stopPropagation()),h((y=m.touches[0])==null?void 0:y.clientX)}},C=Sn()?{passive:!1}:!1;oe(r)?(d?.addEventListener("touchmove",g.moveHandler,C),d?.addEventListener("touchend",g.upHandler,C)):(d?.addEventListener("mousemove",f.moveHandler,C),d?.addEventListener("mouseup",f.upHandler,C)),n.setColumnSizingInfo(m=>({...m,startOffset:u,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=n=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(n),e.setColumnSizingInfo=n=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(n),e.resetColumnSizing=n=>{var t;e.setColumnSizing(n?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=n=>{var t;e.setColumnSizingInfo(n?re():(t=e.initialState.columnSizingInfo)!=null?t:re())},e.getTotalSize=()=>{var n,t;return(n=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getLeftTotalSize=()=>{var n,t;return(n=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getCenterTotalSize=()=>{var n,t;return(n=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0},e.getRightTotalSize=()=>{var n,t;return(n=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((s,i)=>s+i.getSize(),0))!=null?n:0}}};let X=null;function Sn(){if(typeof X=="boolean")return X;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return X=e,X}function oe(e){return e.type==="touchstart"}const Cn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:O("columnVisibility",e)}),createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(s=>({...s,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,s;const i=e.columns;return(t=i.length?i.some(r=>r.getIsVisible()):(s=n.getState().columnVisibility)==null?void 0:s[e.id])!=null?t:!0},e.getCanHide=()=>{var t,s;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((s=n.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,n)=>{e._getAllVisibleCells=v(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(s=>s.column.getIsVisible()),S(n.options,"debugRows")),e.getVisibleCells=v(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,s,i)=>[...t,...s,...i],S(n.options,"debugRows"))},createTable:e=>{const n=(t,s)=>v(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),S(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var s;e.setColumnVisibility(t?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=t=>{var s;t=(s=t)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:t||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var s;e.toggleAllColumnsVisible((s=t.target)==null?void 0:s.checked)}}};function U(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const yn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},wn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:O("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t;const s=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[n.id])==null?void 0:t.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,s,i,r;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((s=n.options.enableGlobalFilter)!=null?s:!0)&&((i=n.options.enableFilters)!=null?i:!0)&&((r=n.options.getColumnCanGlobalFilter==null?void 0:n.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>V.includesString,e.getGlobalFilterFn=()=>{var n,t;const{globalFilterFn:s}=e.options;return te(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(n=(t=e.options.filterFns)==null?void 0:t[s])!=null?n:V[s]},e.setGlobalFilter=n=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},Rn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:O("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var i,r;e.setExpanded(s?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const o=r.split(".");s=Math.max(s,o.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(s=>{var i;const r=s===!0?!0:!!(s!=null&&s[e.id]);let o={};if(s===!0?Object.keys(n.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=s,t=(i=t)!=null?i:!r,!r&&t)return{...o,[e.id]:!0};if(r&&!t){const{[e.id]:l,...u}=o;return u}return s})},e.getIsExpanded=()=>{var t;const s=n.getState().expanded;return!!((t=n.options.getIsRowExpanded==null?void 0:n.options.getIsRowExpanded(e))!=null?t:s===!0||s?.[e.id])},e.getCanExpand=()=>{var t,s,i;return(t=n.options.getRowCanExpand==null?void 0:n.options.getRowCanExpand(e))!=null?t:((s=n.options.enableExpanding)!=null?s:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let t=!0,s=e;for(;t&&s.parentId;)s=n.getRow(s.parentId,!0),t=s.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},ve=0,Se=10,le=()=>({pageIndex:ve,pageSize:Se}),Fn={getInitialState:e=>({...e,pagination:{...le(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:O("pagination",e)}),createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{var s,i;if(!n){e._queue(()=>{n=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=s=>{const i=r=>z(s,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=s=>{var i;e.setPagination(s?le():(i=e.initialState.pagination)!=null?i:le())},e.setPageIndex=s=>{e.setPagination(i=>{let r=z(s,i.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,o)),{...i,pageIndex:r}})},e.resetPageIndex=s=>{var i,r;e.setPageIndex(s?ve:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:ve)},e.resetPageSize=s=>{var i,r;e.setPageSize(s?Se:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:Se)},e.setPageSize=s=>{e.setPagination(i=>{const r=Math.max(1,z(s,i.pageSize)),o=i.pageSize*i.pageIndex,l=Math.floor(o/r);return{...i,pageIndex:l,pageSize:r}})},e.setPageCount=s=>e.setPagination(i=>{var r;let o=z(s,(r=e.options.pageCount)!=null?r:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=v(()=>[e.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((r,o)=>o)),i},S(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:s<i-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},ue=()=>({top:[],bottom:[]}),Mn={getInitialState:e=>({rowPinning:ue(),...e}),getDefaultOptions:e=>({onRowPinningChange:O("rowPinning",e)}),createRow:(e,n)=>{e.pin=(t,s,i)=>{const r=s?e.getLeafRows().map(u=>{let{id:c}=u;return c}):[],o=i?e.getParentRows().map(u=>{let{id:c}=u;return c}):[],l=new Set([...o,e.id,...r]);n.setRowPinning(u=>{var c,a;if(t==="bottom"){var p,h;return{top:((p=u?.top)!=null?p:[]).filter(g=>!(l!=null&&l.has(g))),bottom:[...((h=u?.bottom)!=null?h:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)]}}if(t==="top"){var d,f;return{top:[...((d=u?.top)!=null?d:[]).filter(g=>!(l!=null&&l.has(g))),...Array.from(l)],bottom:((f=u?.bottom)!=null?f:[]).filter(g=>!(l!=null&&l.has(g)))}}return{top:((c=u?.top)!=null?c:[]).filter(g=>!(l!=null&&l.has(g))),bottom:((a=u?.bottom)!=null?a:[]).filter(g=>!(l!=null&&l.has(g)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:s,enablePinning:i}=n.options;return typeof s=="function"?s(e):(t=s??i)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:s,bottom:i}=n.getState().rowPinning,r=t.some(l=>s?.includes(l)),o=t.some(l=>i?.includes(l));return r?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var t,s;const i=e.getIsPinned();if(!i)return-1;const r=(t=i==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(o=>{let{id:l}=o;return l});return(s=r?.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=n=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(n),e.resetRowPinning=n=>{var t,s;return e.setRowPinning(n?ue():(t=(s=e.initialState)==null?void 0:s.rowPinning)!=null?t:ue())},e.getIsSomeRowsPinned=n=>{var t;const s=e.getState().rowPinning;if(!n){var i,r;return!!((i=s.top)!=null&&i.length||(r=s.bottom)!=null&&r.length)}return!!((t=s[n])!=null&&t.length)},e._getPinnedRows=(n,t,s)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(t??[]).map(o=>{const l=e.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(t??[]).map(o=>n.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:s}))},e.getTopRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),S(e.options,"debugRows")),e.getBottomRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),S(e.options,"debugRows")),e.getCenterRows=v(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,s)=>{const i=new Set([...t??[],...s??[]]);return n.filter(r=>!i.has(r.id))},S(e.options,"debugRows"))}},_n={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:O("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=n=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(n),e.resetRowSelection=n=>{var t;return e.setRowSelection(n?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const s={...t},i=e.getPreGroupedRowModel().flatRows;return n?i.forEach(r=>{r.getCanSelect()&&(s[r.id]=!0)}):i.forEach(r=>{delete s[r.id]}),s})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const s=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),i={...t};return e.getRowModel().rows.forEach(r=>{Ce(i,r.id,s,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=v(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?ae(e,t):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getFilteredSelectedRowModel=v(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?ae(e,t):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getGroupedSelectedRowModel=v(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?ae(e,t):{rows:[],flatRows:[],rowsById:{}},S(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let s=!!(n.length&&Object.keys(t).length);return s&&n.some(i=>i.getCanSelect()&&!t[i.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=e.getState();let s=!!n.length;return s&&n.some(i=>!t[i.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var n;const t=Object.keys((n=e.getState().rowSelection)!=null?n:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},createRow:(e,n)=>{e.toggleSelected=(t,s)=>{const i=e.getIsSelected();n.setRowSelection(r=>{var o;if(t=typeof t<"u"?t:!i,e.getCanSelect()&&i===t)return r;const l={...r};return Ce(l,e.id,t,(o=s?.selectChildren)!=null?o:!0,n),l})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return Oe(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return ye(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return ye(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):(t=n.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):(t=n.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):(t=n.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return s=>{var i;t&&e.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},Ce=(e,n,t,s,i)=>{var r;const o=i.getRow(n,!0);t?(o.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),o.getCanSelect()&&(e[n]=!0)):delete e[n],s&&(r=o.subRows)!=null&&r.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Ce(e,l.id,t,s,i))};function ae(e,n){const t=e.getState().rowSelection,s=[],i={},r=function(o,l){return o.map(u=>{var c;const a=Oe(u,t);if(a&&(s.push(u),i[u.id]=u),(c=u.subRows)!=null&&c.length&&(u={...u,subRows:r(u.subRows)}),a)return u}).filter(Boolean)};return{rows:r(n.rows),flatRows:s,rowsById:i}}function Oe(e,n){var t;return(t=n[e.id])!=null?t:!1}function ye(e,n,t){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let i=!0,r=!1;return e.subRows.forEach(o=>{if(!(r&&!i)&&(o.getCanSelect()&&(Oe(o,n)?r=!0:i=!1),o.subRows&&o.subRows.length)){const l=ye(o,n);l==="all"?r=!0:(l==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const we=/([0-9]+)/gm,Pn=(e,n,t)=>ft(L(e.getValue(t)).toLowerCase(),L(n.getValue(t)).toLowerCase()),xn=(e,n,t)=>ft(L(e.getValue(t)),L(n.getValue(t))),On=(e,n,t)=>Ee(L(e.getValue(t)).toLowerCase(),L(n.getValue(t)).toLowerCase()),En=(e,n,t)=>Ee(L(e.getValue(t)),L(n.getValue(t))),In=(e,n,t)=>{const s=e.getValue(t),i=n.getValue(t);return s>i?1:s<i?-1:0},$n=(e,n,t)=>Ee(e.getValue(t),n.getValue(t));function Ee(e,n){return e===n?0:e>n?1:-1}function L(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ft(e,n){const t=e.split(we).filter(Boolean),s=n.split(we).filter(Boolean);for(;t.length&&s.length;){const i=t.shift(),r=s.shift(),o=parseInt(i,10),l=parseInt(r,10),u=[o,l].sort();if(isNaN(u[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(u[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return t.length-s.length}const j={alphanumeric:Pn,alphanumericCaseSensitive:xn,text:On,textCaseSensitive:En,datetime:In,basic:$n},bn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:O("sorting",e),isMultiSortEvent:n=>n.shiftKey}),createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of t){const r=i?.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return j.datetime;if(typeof r=="string"&&(s=!0,r.split(we).length>1))return j.alphanumeric}return s?j.text:j.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,s;if(!e)throw new Error;return te(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(s=n.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?t:j[e.columnDef.sortingFn]},e.toggleSorting=(t,s)=>{const i=e.getNextSortingOrder(),r=typeof t<"u"&&t!==null;n.setSorting(o=>{const l=o?.find(d=>d.id===e.id),u=o?.findIndex(d=>d.id===e.id);let c=[],a,p=r?t:i==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&s?l?a="toggle":a="add":o!=null&&o.length&&u!==o.length-1?a="replace":l?a="toggle":a="replace",a==="toggle"&&(r||i||(a="remove")),a==="add"){var h;c=[...o,{id:e.id,desc:p}],c.splice(0,c.length-((h=n.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else a==="toggle"?c=o.map(d=>d.id===e.id?{...d,desc:p}:d):a==="remove"?c=o.filter(d=>d.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var t,s;return((t=(s=e.columnDef.sortDescFirst)!=null?s:n.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var s,i;const r=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==r&&((s=n.options.enableSortingRemoval)==null||s)&&(!(t&&(i=n.options.enableMultiRemove)!=null)||i)?!1:o==="desc"?"asc":"desc":r},e.getCanSort=()=>{var t,s;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((s=n.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,s;return(t=(s=e.columnDef.enableMultiSort)!=null?s:n.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const s=(t=n.getState().sorting)==null?void 0:t.find(i=>i.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,s;return(t=(s=n.getState().sorting)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?t:-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return s=>{t&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?n.options.isMultiSortEvent==null?void 0:n.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=n=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(n),e.resetSorting=n=>{var t,s;e.setSorting(n?[]:(t=(s=e.initialState)==null?void 0:s.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Dn=[Zt,Cn,pn,mn,tn,nn,yn,wn,bn,gn,Rn,Fn,Mn,_n,vn];function Vn(e){var n,t;const s=[...Dn,...(n=e._features)!=null?n:[]];let i={_features:s};const r=i._features.reduce((h,d)=>Object.assign(h,d.getDefaultOptions==null?void 0:d.getDefaultOptions(i)),{}),o=h=>i.options.mergeOptions?i.options.mergeOptions(r,h):{...r,...h};let u={...{},...(t=e.initialState)!=null?t:{}};i._features.forEach(h=>{var d;u=(d=h.getInitialState==null?void 0:h.getInitialState(u))!=null?d:u});const c=[];let a=!1;const p={_features:s,options:{...r,...e},initialState:u,_queue:h=>{c.push(h),a||(a=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();a=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{i.setState(i.initialState)},setOptions:h=>{const d=z(h,i.options);i.options=o(d)},getState:()=>i.options.state,setState:h=>{i.options.onStateChange==null||i.options.onStateChange(h)},_getRowId:(h,d,f)=>{var g;return(g=i.options.getRowId==null?void 0:i.options.getRowId(h,d,f))!=null?g:`${f?[f.id,d].join("."):d}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(h,d)=>{let f=(d?i.getPrePaginationRowModel():i.getRowModel()).rowsById[h];if(!f&&(f=i.getCoreRowModel().rowsById[h],!f))throw new Error;return f},_getDefaultColumnDef:v(()=>[i.options.defaultColumn],h=>{var d;return h=(d=h)!=null?d:{},{header:f=>{const g=f.header.column.columnDef;return g.accessorKey?g.accessorKey:g.accessorFn?g.id:null},cell:f=>{var g,C;return(g=(C=f.renderValue())==null||C.toString==null?void 0:C.toString())!=null?g:null},...i._features.reduce((f,g)=>Object.assign(f,g.getDefaultColumnDef==null?void 0:g.getDefaultColumnDef()),{}),...h}},S(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:v(()=>[i._getColumnDefs()],h=>{const d=function(f,g,C){return C===void 0&&(C=0),f.map(m=>{const y=Yt(i,m,C,g),w=m;return y.columns=w.columns?d(w.columns,y,C+1):[],y})};return d(h)},S(e,"debugColumns")),getAllFlatColumns:v(()=>[i.getAllColumns()],h=>h.flatMap(d=>d.getFlatColumns()),S(e,"debugColumns")),_getAllFlatColumnsById:v(()=>[i.getAllFlatColumns()],h=>h.reduce((d,f)=>(d[f.id]=f,d),{}),S(e,"debugColumns")),getAllLeafColumns:v(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(h,d)=>{let f=h.flatMap(g=>g.getLeafColumns());return d(f)},S(e,"debugColumns")),getColumn:h=>i._getAllFlatColumnsById()[h]};Object.assign(i,p);for(let h=0;h<i._features.length;h++){const d=i._features[h];d==null||d.createTable==null||d.createTable(i)}return i}function os(){return e=>v(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},s=function(i,r,o){r===void 0&&(r=0);const l=[];for(let c=0;c<i.length;c++){const a=en(e,e._getRowId(i[c],c,o),i[c],c,r,void 0,o?.id);if(t.flatRows.push(a),t.rowsById[a.id]=a,l.push(a),e.options.getSubRows){var u;a.originalSubRows=e.options.getSubRows(i[c],c),(u=a.originalSubRows)!=null&&u.length&&(a.subRows=s(a.originalSubRows,r+1,a))}}return l};return t.rows=s(n),t},S(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ls(){return e=>v(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,s)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!s?t:An(t),S(e.options,"debugTable"))}function An(e){const n=[],t=s=>{var i;n.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function us(e,n){return e?zn(e)?R.createElement(e,n):e:null}function zn(e){return Ln(e)||typeof e=="function"||Hn(e)}function Ln(e){return typeof e=="function"&&(()=>{const n=Object.getPrototypeOf(e);return n.prototype&&n.prototype.isReactComponent})()}function Hn(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function as(e){const n={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[t]=R.useState(()=>({current:Vn(n)})),[s,i]=R.useState(()=>t.current.initialState);return t.current.setOptions(r=>({...r,...e,state:{...s,...e.state},onStateChange:o=>{i(o),e.onStateChange==null||e.onStateChange(o)}})),t.current}function k(e,n,t){let s=t.initialDeps??[],i;function r(){var o,l,u,c;let a;t.key&&((o=t.debug)!=null&&o.call(t))&&(a=Date.now());const p=e();if(!(p.length!==s.length||p.some((f,g)=>s[g]!==f)))return i;s=p;let d;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(d=Date.now()),i=n(...p),t.key&&((u=t.debug)!=null&&u.call(t))){const f=Math.round((Date.now()-a)*100)/100,g=Math.round((Date.now()-d)*100)/100,C=g/16,m=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%câ± ${m(g,5)} /${m(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,t?.key)}return(c=t?.onChange)==null||c.call(t,i),i}return r.updateDeps=o=>{s=o},r}function ke(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Tn=(e,n)=>Math.abs(e-n)<1.01,Gn=(e,n,t)=>{let s;return function(...i){e.clearTimeout(s),s=e.setTimeout(()=>n.apply(this,i),t)}},qe=e=>{const{offsetWidth:n,offsetHeight:t}=e;return{width:n,height:t}},kn=e=>e,qn=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),s=[];for(let i=n;i<=t;i++)s.push(i);return s},Qn=(e,n)=>{const t=e.scrollElement;if(!t)return;const s=e.targetWindow;if(!s)return;const i=o=>{const{width:l,height:u}=o;n({width:Math.round(l),height:Math.round(u)})};if(i(qe(t)),!s.ResizeObserver)return()=>{};const r=new s.ResizeObserver(o=>{const l=()=>{const u=o[0];if(u?.borderBoxSize){const c=u.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(qe(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return r.observe(t,{box:"border-box"}),()=>{r.unobserve(t)}},Qe={passive:!0},je=typeof window>"u"?!0:"onscrollend"in window,jn=(e,n)=>{const t=e.scrollElement;if(!t)return;const s=e.targetWindow;if(!s)return;let i=0;const r=e.options.useScrollendEvent&&je?()=>{}:Gn(s,()=>{n(i,!1)},e.options.isScrollingResetDelay),o=a=>()=>{const{horizontal:p,isRtl:h}=e.options;i=p?t.scrollLeft*(h&&-1||1):t.scrollTop,r(),n(i,a)},l=o(!0),u=o(!1);u(),t.addEventListener("scroll",l,Qe);const c=e.options.useScrollendEvent&&je;return c&&t.addEventListener("scrollend",u,Qe),()=>{t.removeEventListener("scroll",l),c&&t.removeEventListener("scrollend",u)}},Un=(e,n,t)=>{if(n?.borderBoxSize){const s=n.borderBoxSize[0];if(s)return Math.round(s[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Bn=(e,{adjustments:n=0,behavior:t},s)=>{var i,r;const o=e+n;(r=(i=s.scrollElement)==null?void 0:i.scrollTo)==null||r.call(i,{[s.options.horizontal?"left":"top"]:o,behavior:t})};class Nn{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const s=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(r=>{const o=()=>{this._measureElement(r.target,r)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=s())==null||i.disconnect(),t=null},observe:i=>{var r;return(r=s())==null?void 0:r.observe(i,{box:"border-box"})},unobserve:i=>{var r;return(r=s())==null?void 0:r.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([s,i])=>{typeof i>"u"&&delete t[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:kn,rangeExtractor:qn,onChange:()=>{},measureElement:Un,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var s,i;(i=(s=this.options).onChange)==null||i.call(s,this,t)},this.maybeNotify=k(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,r)=>{this.scrollAdjustments=0,this.scrollDirection=r?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=r,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,s)=>{const i=new Map,r=new Map;for(let o=s-1;o>=0;o--){const l=t[o];if(i.has(l.lane))continue;const u=r.get(l.lane);if(u==null||l.end>u.end?r.set(l.lane,l):l.end<u.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return r.size===this.options.lanes?Array.from(r.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=k(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,s,i,r,o)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:s,scrollMargin:i,getItemKey:r,enabled:o}),{key:!1}),this.getMeasurements=k(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:s,scrollMargin:i,getItemKey:r,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(a=>{this.itemSizeCache.set(a.key,a.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,u);for(let a=u;a<t;a++){const p=r(a),h=this.options.lanes===1?c[a-1]:this.getFurthestMeasurement(c,a),d=h?h.end+this.options.gap:s+i,f=l.get(p),g=typeof f=="number"?f:this.options.estimateSize(a),C=d+g,m=h?h.lane:a%this.options.lanes;c[a]={index:a,start:d,size:g,end:C,key:p,lane:m}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=k(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,s,i,r)=>this.range=t.length>0&&s>0?Kn({measurements:t,outerSize:s,scrollOffset:i,lanes:r}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=k(()=>{let t=null,s=null;const i=this.calculateRange();return i&&(t=i.startIndex,s=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,s]},(t,s,i,r,o)=>r===null||o===null?[]:t({startIndex:r,endIndex:o,overscan:s,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const s=this.options.indexAttribute,i=t.getAttribute(s);return i?parseInt(i,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(t,s)=>{const i=this.indexFromElement(t),r=this.measurementsCache[i];if(!r)return;const o=r.key,l=this.elementsCache.get(o);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(o,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,s,this))},this.resizeItem=(t,s)=>{const i=this.measurementsCache[t];if(!i)return;const r=this.itemSizeCache.get(i.key)??i.size,o=s-r;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,s)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((s,i)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=k(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,s)=>{const i=[];for(let r=0,o=t.length;r<o;r++){const l=t[r],u=s[l];i.push(u)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const s=this.getMeasurements();if(s.length!==0)return ke(s[pt(0,s.length-1,i=>ke(s[i]).start,t)])},this.getOffsetForAlignment=(t,s,i=0)=>{const r=this.getSize(),o=this.getScrollOffset();s==="auto"&&(s=t>=o+r?"end":"start"),s==="center"?t+=(i-r)/2:s==="end"&&(t-=r);const l=this.getTotalSize()+this.options.scrollMargin-r;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,s="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const r=this.getSize(),o=this.getScrollOffset();if(s==="auto")if(i.end>=o+r-this.options.scrollPaddingEnd)s="end";else if(i.start<=o+this.options.scrollPaddingStart)s="start";else return[o,s];const l=s==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,s,i.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:s="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,s),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:s="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let r=0;const o=10,l=c=>{if(!this.targetWindow)return;const a=this.getOffsetForIndex(t,c);if(!a){console.warn("Failed to get offset for index:",t);return}const[p,h]=a;this._scrollToOffset(p,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const d=this.getScrollOffset(),f=this.getOffsetForIndex(t,h);if(!f){console.warn("Failed to get offset for index:",t);return}Tn(f[0],d)||u(h)})},u=c=>{this.targetWindow&&(r++,r<o?this.targetWindow.requestAnimationFrame(()=>l(c)):console.warn(`Failed to scroll to index ${t} after ${o} attempts.`))};l(s)},this.scrollBy=(t,{behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var t;const s=this.getMeasurements();let i;if(s.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=s[s.length-1])==null?void 0:t.end)??0;else{const r=Array(this.options.lanes).fill(null);let o=s.length-1;for(;o>=0&&r.some(l=>l===null);){const l=s[o];r[l.lane]===null&&(r[l.lane]=l.end),o--}i=Math.max(...r.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:s,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const pt=(e,n,t,s)=>{for(;e<=n;){const i=(e+n)/2|0,r=t(i);if(r<s)e=i+1;else if(r>s)n=i-1;else return i}return e>0?e-1:0};function Kn({measurements:e,outerSize:n,scrollOffset:t,lanes:s}){const i=e.length-1,r=u=>e[u].start;if(e.length<=s)return{startIndex:0,endIndex:i};let o=pt(0,i,r,t),l=o;if(s===1)for(;l<i&&e[l].end<t+n;)l++;else if(s>1){const u=Array(s).fill(0);for(;l<i&&u.some(a=>a<t+n);){const a=e[l];u[a.lane]=a.end,l++}const c=Array(s).fill(t+n);for(;o>=0&&c.some(a=>a>=t);){const a=e[o];c[a.lane]=a.start,o--}o=Math.max(0,o-o%s),l=Math.min(i,l+(s-1-l%s))}return{startIndex:o,endIndex:l}}const Ue=typeof document<"u"?R.useLayoutEffect:R.useEffect;function Wn(e){const n=R.useReducer(()=>({}),{})[1],t={...e,onChange:(i,r)=>{var o;r?vt.flushSync(n):n(),(o=e.onChange)==null||o.call(e,i,r)}},[s]=R.useState(()=>new Nn(t));return s.setOptions(t),Ue(()=>s._didMount(),[]),Ue(()=>s._willUpdate()),s}function cs(e){return Wn({observeElementRect:Qn,observeElementOffset:jn,scrollToFn:Bn,...e})}export{Yn as Q,os as a,es as b,is as c,Et as d,Zn as e,us as f,ls as g,ee as h,ns as i,cs as j,rs as k,ss as l,ts as q,as as u};
