import{j as e}from"./@radix-D8tIKeo-.js";import{C as f,o as h,q as u,A as j,h as y,t as b,c as g,r as c,k as N,aD as C,aI as v,s as k}from"./index-rPJfPIfq.js";import{a as w}from"./@monaco-editor-CuNQBT0l.js";import{b as O,a as S}from"./CollapsibleCard-Dh8SGpzx.js";import{C as I}from"./ComponentIcon-D_yr1vNI.js";import{L as d}from"./@react-router-D1ODL_Ub.js";import{N as A}from"./KeyValue-DsctXRSr.js";import{s as r}from"./constants-BUlqx9qT.js";function T({children:s,stackName:t}){const[l,a]=w.useState(!0);return e.jsxs(f,{open:l,onOpenChange:a,children:[e.jsx(h,{className:"flex h-9 items-center p-0",children:e.jsxs(u,{className:"flex w-full items-center gap-2 px-5 py-3",children:[e.jsx(O,{open:l}),e.jsxs("div",{className:"group/copybutton flex items-center gap-2",children:[e.jsx(j,{type:"square",size:"md",children:e.jsx(y,{size:"md",children:t[0]||"S"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-text-sm text-theme-text-tertiary",children:"Stack"}),e.jsx("p",{className:"text-text-lg",children:t})]})]})]})}),e.jsx(b,{className:g("space-y-3 border-t border-theme-border-moderate bg-theme-surface-primary px-5 py-3"),children:s})]})}function z({component:s,objectConfig:t}){const l=`${s.body?.type}.${s.body?.flavor_name}`,a=t?.[l]??void 0;return!C(a)||Object.keys(a).length===0?e.jsx(d,{to:c.components.detail(s.id),children:e.jsxs(N,{className:"flex w-full items-center gap-[10px] bg-theme-surface-secondary px-5 py-3 text-left",children:[e.jsx("div",{className:"size-5 shrink-0"}),e.jsx(p,{componentLogoUrl:s.body?.logo_url??void 0,componentName:s.name,componentType:s.body?.type??"orchestrator"})]})}):e.jsx(A,{intent:"secondary",contentClassName:"pl-[60px]",className:"w-full",isInitialOpen:!0,title:void 0,headerChildren:e.jsxs("div",{className:"relative flex w-full items-center justify-between gap-3 text-left",children:[e.jsx(p,{componentLogoUrl:s.body?.logo_url??void 0,componentName:s.name,componentType:s.body?.type??"orchestrator",children:e.jsx("div",{className:"z-10 opacity-100 transition-opacity duration-200 lg:opacity-0 lg:group-hover:opacity-100",children:e.jsx(S,{copyText:JSON.stringify(a)})})}),e.jsx(d,{className:"absolute inset-0",to:c.components.detail(s.id)})]}),data:a})}function p({componentLogoUrl:s,componentName:t,componentType:l,children:a}){return e.jsxs("div",{className:"grid w-full max-w-full grid-cols-3 items-center gap-2",children:[e.jsx("div",{className:"col-span-1 truncate text-theme-text-secondary",children:v(l)}),e.jsxs("div",{className:"col-span-2 flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[s?e.jsx("img",{width:32,height:32,alt:`${t} logo`,src:k(s)}):e.jsx(I,{type:l}),e.jsx("p",{className:"truncate",children:t})]}),a]})]})}function B(s){return s.sort((t,l)=>{const a=t.body?.type??"",n=l.body?.type??"",o=r.indexOf(a),i=r.indexOf(n),m=o===-1?r.length:o,x=i===-1?r.length:i;return m-x})}function L({stack:s,objectConfig:t}){const l=B(Object.values(s.metadata?.components||{}).flat());return e.jsx("ul",{className:"space-y-5",children:l.map(a=>e.jsx("li",{className:"w-full",children:e.jsx(z,{component:a,objectConfig:t})},a.id))})}function D({stack:s,objectConfig:t}){return e.jsx(T,{stackName:s.name,children:e.jsx(L,{stack:s,objectConfig:t})})}export{D as S};
